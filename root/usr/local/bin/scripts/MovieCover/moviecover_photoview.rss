<?xml version='1.0' ?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">

<bookmark> MovieCover </bookmark>

<mediaDisplay name=photoView
bottomYPC=100
sideTopHeightPC=0
itemGapXPC=2.18
itemGapYPC=4
showDefaultInfo=no
centerXPC=5
centerYPC=12.97
itemWidthPC=15
itemHeightPC=30.20
centerHeightPC=100
itemBackgroundColor=0:0:0
backgroundColor=-1:-1:-1
drawItemBorder=yes
imageBorderPC=1
rowCount=2
columnCount=5

	idleImageXPC=83.12
	idleImageYPC=89.58
	idleImageWidthPC=3.1
	idleImageHeightPC=5.5
>

	<idleImage> image/POPUP_LOADING_01.png </idleImage>
	<idleImage> image/POPUP_LOADING_02.png </idleImage>
	<idleImage> image/POPUP_LOADING_03.png </idleImage>
	<idleImage> image/POPUP_LOADING_04.png </idleImage>
	<idleImage> image/POPUP_LOADING_05.png </idleImage>
	<idleImage> image/POPUP_LOADING_06.png </idleImage>

<itemDisplay>
<text offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100 align=center useBackgroundSurface=yes/>
<image redraw=no offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100 scale=yes>
<script>
	state = getDrawingItemState();
	print("image state===>",state);
	url = getStringArrayAt(idArray , -1) ;

	url;
</script>
</image>
</itemDisplay>

	<onUserInput>
		<script>
     		userInput = currentUserInput();
			ret = "false";
			if (userInput=="edit"){
				ret = "true";
			}

			if (type == "slideShow") {
				if (userInput == "up") {
					type = "mostInterested";
					setRefreshTime(-1);
				}
			}
			ret;
		</script>	
	</onUserInput>


	<backgroundDisplay  name=flickrBackground>
	<image offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100>
	 ./scripts/MovieCover/IMAGE_COMMON_BG.png
	 </image>
	</backgroundDisplay>
	
    <text offsetXPC="10" offsetYPC="87.3" widthPC="80" heightPC="6" 
		fontSize="18" backgroundColor="-1:-1:-1" foregroundColor="255:255:255"
		redraw=yes align=center useBackgroundSurface=yes >
        <script>
			str = getStringArrayAt(folderNameArray , -1);
		
				str; 
		</script>
    </text>			

	<!-- the entry point of the view, you can set the initial focus here -->
	<!-- you can also use postMessage to do the initial operation on the focus item -->
	<onEnter>
			redrawDisplay();
	</onEnter>
</mediaDisplay>

<script>
	 
	header = "MovieCover";
	page = 1;
	type = "mostInterested";
	firstEnter = "yes";

	storagePath = getStoragePath("tmp");
	storagePath = storagePath + "movieThunb.dat";
	idArray = readStringFromFile(storagePath);
	print(storagePath, "symbolArray = ", idArray);	

	itemSize = 0;
	querySymbols = "";
	symbol = getStringArrayAt(idArray, itemSize);	
	while (  symbol != null) {
		itemSize = itemSize + 1;
		symbol = getStringArrayAt(idArray, itemSize);
	}	

	print("itemp size=**=>",itemSize);

	storagePath = getStoragePath("tmp");
	storagePath = storagePath + "movieDir.dat";
	folderArray = readStringFromFile(storagePath);

	storagePath = getStoragePath("tmp");
	storagePath = storagePath + "movieName.dat";
	folderNameArray = readStringFromFile(storagePath);

	setFocusItemIndex(0);
</script>
	
<onRefresh>

</onRefresh>

<item_template>
		<onClick>
			url = getStringArrayAt(folderArray , -1) ;
			print("onClick |*****|",url);
			
			APName = "GBrowserGridViewAP";
			menuCmd(APName, "StartPlayVideoFolder", url);
			null;
		</onClick>
</item_template>


<!--
<submenu name=$[IMS_SEARCH_PHOTO]>
        <onClick>
            <script>
				keyword= getInput(); 
				type = "search";
				page = 1;
				if (keyword!=null) { 
					setRefreshTime(1);
				}
				else {
				  url = null;
				}
				
            </script>
        </onClick>
</submenu>	


<submenu name=$[IMS_PREVIOUS_PAGE]>
	<script>
		if (page &gt; 1) {
			page = page - 1;
			setRefreshTime(1);
		}				
	</script>	
</submenu>

<submenu name=$[IMS_NEXT_PAGE]>
	<script>
		page = page + 1;
		setRefreshTime(1);
	</script>	
</submenu>
-->


<channel>
	<title> <script> header; </script> </title>
	<link>./scripts/MovieCover/moviecover.rss</link>

<itemSize>
	<script>
		itemSize;
	</script>
</itemSize>

</channel>
</rss>
